import{h as L,c as q,a as F,b as O,W as D,X as m,Y as k,Z as X,$ as h,a0 as g,a1 as T,R as y,a2 as E,a3 as b,z as Y,w as _,f as z,o as A,g as Q,a4 as B,a5 as K}from"./index.ebab3077.js";import{g as w,s as P}from"./touch.e38651aa.js";import{c as $}from"./use-tick.9a52c72c.js";import{j as N,k as j,l as H,m as U,n as V}from"./QMenu.939c6eae.js";const I=L("div",{class:"q-space"});var te=q({name:"QSpace",setup(){return()=>I}}),oe=q({name:"QToolbar",props:{inset:Boolean},setup(o,{slots:r}){const n=F(()=>"q-toolbar row no-wrap items-center"+(o.inset===!0?" q-toolbar--inset":""));return()=>L("div",{class:n.value,role:"toolbar"},O(r.default))}});function C(o,r,n){const a=E(o);let e,t=a.left-r.event.x,i=a.top-r.event.y,u=Math.abs(t),l=Math.abs(i);const s=r.direction;s.horizontal===!0&&s.vertical!==!0?e=t<0?"left":"right":s.horizontal!==!0&&s.vertical===!0?e=i<0?"up":"down":s.up===!0&&i<0?(e="up",u>l&&(s.left===!0&&t<0?e="left":s.right===!0&&t>0&&(e="right"))):s.down===!0&&i>0?(e="down",u>l&&(s.left===!0&&t<0?e="left":s.right===!0&&t>0&&(e="right"))):s.left===!0&&t<0?(e="left",u<l&&(s.up===!0&&i<0?e="up":s.down===!0&&i>0&&(e="down"))):s.right===!0&&t>0&&(e="right",u<l&&(s.up===!0&&i<0?e="up":s.down===!0&&i>0&&(e="down")));let f=!1;if(e===void 0&&n===!1){if(r.event.isFirst===!0||r.event.lastDir===void 0)return{};e=r.event.lastDir,f=!0,e==="left"||e==="right"?(a.left-=t,u=0,t=0):(a.top-=i,l=0,i=0)}return{synthetic:f,payload:{evt:o,touch:r.event.mouse!==!0,mouse:r.event.mouse===!0,position:a,direction:e,isFirst:r.event.isFirst,isFinal:n===!0,duration:Date.now()-r.event.time,distance:{x:u,y:l},offset:{x:t,y:i},delta:{x:a.left-r.event.lastX,y:a.top-r.event.lastY}}}}let R=0;var ne=D({name:"touch-pan",beforeMount(o,{value:r,modifiers:n}){if(n.mouse!==!0&&m.has.touch!==!0)return;function a(t,i){n.mouse===!0&&i===!0?Y(t):(n.stop===!0&&y(t),n.prevent===!0&&T(t))}const e={uid:"qvtp_"+R++,handler:r,modifiers:n,direction:w(n),noop:k,mouseStart(t){P(t,e)&&X(t)&&(h(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(t,!0))},touchStart(t){if(P(t,e)){const i=t.target;h(e,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","passiveCapture"],[i,"touchend","end","passiveCapture"]]),e.start(t)}},start(t,i){if(m.is.firefox===!0&&g(o,!0),e.lastEvt=t,i===!0||n.stop===!0){if(e.direction.all!==!0&&(i!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const s=t.type.indexOf("mouse")>-1?new MouseEvent(t.type,t):new TouchEvent(t.type,t);t.defaultPrevented===!0&&T(s),t.cancelBubble===!0&&y(s),Object.assign(s,{qKeyEvent:t.qKeyEvent,qClickOutside:t.qClickOutside,qAnchorHandled:t.qAnchorHandled,qClonedBy:t.qClonedBy===void 0?[e.uid]:t.qClonedBy.concat(e.uid)}),e.initialEvent={target:t.target,event:s}}y(t)}const{left:u,top:l}=E(t);e.event={x:u,y:l,time:Date.now(),mouse:i===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:u,lastY:l}},move(t){if(e.event===void 0)return;const i=E(t),u=i.left-e.event.x,l=i.top-e.event.y;if(u===0&&l===0)return;e.lastEvt=t;const s=e.event.mouse===!0,f=()=>{a(t,s);let c;n.preserveCursor!==!0&&n.preservecursor!==!0&&(c=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),s===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),$(),e.styleCleanup=v=>{if(e.styleCleanup=void 0,c!==void 0&&(document.documentElement.style.cursor=c),document.body.classList.remove("non-selectable"),s===!0){const S=()=>{document.body.classList.remove("no-pointer-events--children")};v!==void 0?setTimeout(()=>{S(),v()},50):S()}else v!==void 0&&v()}};if(e.event.detected===!0){e.event.isFirst!==!0&&a(t,e.event.mouse);const{payload:c,synthetic:v}=C(t,e,!1);c!==void 0&&(e.handler(c)===!1?e.end(t):(e.styleCleanup===void 0&&e.event.isFirst===!0&&f(),e.event.lastX=c.position.left,e.event.lastY=c.position.top,e.event.lastDir=v===!0?void 0:c.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||s===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){f(),e.event.detected=!0,e.move(t);return}const d=Math.abs(u),p=Math.abs(l);d!==p&&(e.direction.horizontal===!0&&d>p||e.direction.vertical===!0&&d<p||e.direction.up===!0&&d<p&&l<0||e.direction.down===!0&&d<p&&l>0||e.direction.left===!0&&d>p&&u<0||e.direction.right===!0&&d>p&&u>0?(e.event.detected=!0,e.move(t)):e.end(t,!0))},end(t,i){if(e.event!==void 0){if(b(e,"temp"),m.is.firefox===!0&&g(o,!1),i===!0)e.styleCleanup!==void 0&&e.styleCleanup(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(C(t===void 0?e.lastEvt:t,e).payload);const{payload:u}=C(t===void 0?e.lastEvt:t,e,!0),l=()=>{e.handler(u)};e.styleCleanup!==void 0?e.styleCleanup(l):l()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(o.__qtouchpan=e,n.mouse===!0){const t=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";h(e,"main",[[o,"mousedown","mouseStart",`passive${t}`]])}m.has.touch===!0&&h(e,"main",[[o,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[o,"touchmove","noop","notPassiveCapture"]])},updated(o,r){const n=o.__qtouchpan;n!==void 0&&(r.oldValue!==r.value&&(typeof value!="function"&&n.end(),n.handler=r.value),n.direction=w(r.modifiers))},beforeUnmount(o){const r=o.__qtouchpan;r!==void 0&&(r.event!==void 0&&r.end(),b(r,"main"),b(r,"temp"),m.is.firefox===!0&&g(o,!1),r.styleCleanup!==void 0&&r.styleCleanup(),delete o.__qtouchpan)}});const{passive:x}=B,W=["both","horizontal","vertical"];var re=q({name:"QScrollObserver",props:{axis:{type:String,validator:o=>W.includes(o),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(o,{emit:r}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let a=null,e,t;_(()=>o.scrollTarget,()=>{l(),u()});function i(){a!==null&&a();const d=Math.max(0,j(e)),p=H(e),c={top:d-n.position.top,left:p-n.position.left};if(o.axis==="vertical"&&c.top===0||o.axis==="horizontal"&&c.left===0)return;const v=Math.abs(c.top)>=Math.abs(c.left)?c.top<0?"up":"down":c.left<0?"left":"right";n.position={top:d,left:p},n.directionChanged=n.direction!==v,n.delta=c,n.directionChanged===!0&&(n.direction=v,n.inflectionPoint=n.position),r("scroll",{...n})}function u(){e=N(t,o.scrollTarget),e.addEventListener("scroll",s,x),s(!0)}function l(){e!==void 0&&(e.removeEventListener("scroll",s,x),e=void 0)}function s(d){if(d===!0||o.debounce===0||o.debounce==="0")i();else if(a===null){const[p,c]=o.debounce?[setTimeout(i,o.debounce),clearTimeout]:[requestAnimationFrame(i),cancelAnimationFrame];a=()=>{c(p),a=null}}}const{proxy:f}=Q();return _(()=>f.$q.lang.rtl,i),z(()=>{t=f.$el.parentNode,u()}),A(()=>{a!==null&&a(),l()}),Object.assign(f,{trigger:s,getPosition:()=>n}),k}});function M(o){if(o===!1)return 0;if(o===!0||o===void 0)return 1;const r=parseInt(o,10);return isNaN(r)?0:r}var ie=D({name:"close-popup",beforeMount(o,{value:r}){const n={depth:M(r),handler(a){n.depth!==0&&setTimeout(()=>{const e=U(o);e!==void 0&&V(e,a,n.depth)})},handlerKey(a){K(a,13)===!0&&n.handler(a)}};o.__qclosepopup=n,o.addEventListener("click",n.handler),o.addEventListener("keyup",n.handlerKey)},updated(o,{value:r,oldValue:n}){r!==n&&(o.__qclosepopup.depth=M(r))},beforeUnmount(o){const r=o.__qclosepopup;o.removeEventListener("click",r.handler),o.removeEventListener("keyup",r.handlerKey),delete o.__qclosepopup}});export{ie as C,re as Q,ne as T,oe as a,te as b};
